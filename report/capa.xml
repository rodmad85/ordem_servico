<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="action_capa_os" model="ir.actions.report">
        <field name="name">Capa OS</field>
        <field name="model">ordem.servico</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">ordem_servico.report_ordem_capa</field>
        <field name="report_file">ordem_servico.report_ordem_capa</field>
        <field name="print_report_name">'OS - %s' % (object.name or '')</field>
        <field name="binding_model_id" ref="model_ordem_servico"/>
        <field name="binding_type">report</field>
    </record>

<template id="report_ordem_capa">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.external_layout">
                <div class="page">
                <div class="oe_structure"/>
                    <table class="table table-sm o_main_table">

                            <td class="text-center">
                                <p align="center"> <h4><span t-field="o.cliente_id"/></h4></p>
                             </td>

                            <td class="text-right"><p align="center"><h2>OS: </h2></p> </td>
                            <td class="text-center">
                                <p align="center"> <h2><strong><span t-field="o.name"/></strong></h2></p>
                            </td>


                         <tr>
                            <td class="text-center">
                                <h5>PEDIDO DO CLIENTE: <span t-field="o.pedido_venda.client_order_ref" /></h5>
                             </td>
                             <td class="text-right">
                                <h5>PRAZO: </h5>
                             </td>
                             <td class="text-center"><h5><strong><span t-field="o.data_entrega"/></strong></h5></td>
                         </tr>

                 </table>
                <table class="table table-sm o_main_table">
                    <thead>
                        <tr>
                            <th class="text-center"><strong>Qtd.</strong></th>
                            <th class="text-center"><strong>Produto</strong></th>
                            <th class="text-center" width="170px"><strong>Desenho</strong></th>
                            <th class="text-center" width="150px"><strong>Ent. Produção</strong></th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="docs.produtos" t-as="line">
                        <tr>



                                <td class="text-center">
                                  <span t-field="line.product_qty" t-options='{"widget": "float", "precision": 0}'/>
                                </td>
                                <td id="product">
                                  <span t-field="line.product_id" />
                                </td>
                                <td class="text-center">
                                  <!--<span t-field="line.default_code"/>-->
                                </td>
                                <td class="text-center">
                                    <span t-field="line.date_planned_start" t-options='{"widget": "date"}'/>
                                </td>

                        </tr>
                         </t>
                    </tbody>

                </table>
                    <table class="table table-sm o_main_table">
                        <thead><strong>Observações</strong></thead>
                    <td width="100%" height="120px"> <span t-field="o.observacoes"/></td>

                    </table>
                    <div class="page">
                        <table class="table table-sm o_main_table">
                            <thead class="text-center" >
                               <th colspan="2"><strong> <h6>REGISTROS DE INSPEÇÕES</h6></strong></th>
                            </thead>
<tbody>
                            <tr>
                                <td class="text-center" width="50%">
                                    <strong><h7>CORTE E DOBRA</h7></strong>
                                <br/>
                                   <span> &#9634; Visual  &#160;&#9634; Dimensional  &#160;&#9634; Outras ________________________</span>
                                <br/>Responsável:________________________ - _______/_______/_______

                                </td>
                                <td class="text-center">
                                    <strong><h7>FURAÇÃO</h7></strong>
                                <br/>
                                   <span> &#9634; Visual  &#160;&#9634; Dimensional  &#160;&#9634; Outras ________________________</span>
                                <br/>Responsável:________________________ - _______/_______/_______

                                </td>

                            </tr>
                            <tr>


                            </tr>
                            <tr>
                                <td class="text-center">
                                    <strong><h7>MONTAGEM</h7></strong>
                                <br/>
                                   <span> &#9634; Visual  &#160;&#9634; Dimensional  &#160;&#9634; Outras ________________________</span>
                                <br/>Responsável:________________________ - _______/_______/_______

                                </td>
                                <td class="text-center">
                                    <strong><h7>USINAGEM</h7></strong>
                                <br/>
                                   <span> &#9634; Visual  &#160; &#9634; Dimensional  &#160; &#9634; Outras ________________________</span>
                                <br/>Responsável:________________________ - _______/_______/_______

                                </td>


                            </tr>
                            <tr>
                                <td class="text-center" colspan="2">
                                    <strong><h7>SOLDAGEM</h7></strong><br/>
                                    <span>PROCESSO REALIZADO CONFORME EPSC______ REV.______</span>
                                    <span>&#160; &#160;&#160;&#160;&#160; &#160; &#160; &#9634; Visual &#160; &#9634; Outras ______________________________________</span>
                                    Responsável:__________________________________ &#160; &#160; &#160; &#160; &#160; &#160;DATA: _______/_______/_______
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <strong><h7>ACABAMENTO</h7></strong>
                                <br/>
                                   <span> &#9634; Visual  &#160; &#9634; Dimensional  &#160; &#9634; Outras ________________________</span>
                                <br/>Responsável:________________________ - _______/_______/_______

                                </td>
                                <td class="text-center">
                                    <strong><h7>INSPEÇÃO FINAL</h7></strong>
                                <br/>
                                   <span> &#9634; Visual  &#160; &#9634; Dimensional  &#160; &#9634; Outras ________________________</span>
                                <br/>Responsável:________________________ - _______/_______/_______

                                </td>
                            </tr>

</tbody>
                        </table>
</div>
                            <div class="footer">
                              <table class="o_report_layout_boxed">

                           <tr>
                            <td class="text-left" width="50%">
                                    <br/><br/><strong><h7>LIBERADO PARA PRODUÇÃO  ________/________/________</h7></strong><br/><br/>
                                </td>
                             <td class="text-left" width="50%">
                                    <br/><br/><strong><h7>LIBERADO PARA FATURAMENTO  ________/________/________</h7></strong><br/><br/>
                                </td>
                            </tr>
                           <tr>
                                <td class="text-left" > ELABORADO POR: <span t-field="o.user_id"/></td>


                                    <td class="text-leftt">DATA: <span t-field="o.create_date" t-options='{"widget": "date","format": "dd/MM/yyyy"}'/> </td>

                           </tr>
                                <tr>
                                    <td class="text-left">LIBERADO POR: <span t-field="o.liberado"/></td>


                                    <td class="text-left">DATA:</td>


                                </tr>


                                </table>
                            </div>
                </div>

            </t>
        </t>
    </t>

</template>

<!--    <template id="ordem_servico_capa">-->
<!--        <t t-call="web.external_layout">-->
<!--            <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)" />-->
<!--           -->

<!--            <div class="page">-->
<!--                <div class="oe_structure"/>-->

<!--               <table class="table table-sm o_main_table">-->

<!--                    <tr>-->
<!--                        <td><strong>Cliente: </strong><div t-field="doc.partner_id.parent_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;,&quot;name&quot;], &quot;no_marker&quot;: True, &quot;phone_icons&quot;: True}" /></td>-->
<!--                        <td><strong>Contato: </strong><div t-field="doc.partner_id.name"></div><div t-field="doc.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;contact&quot;,&quot;email&quot;, &quot;phone&quot;, &quot;mobile&quot;], &quot;no_marker&quot;: False, &quot;phone_icons&quot;: True}" /></td>-->
<!--                        <td><strong>Nº Pedido Cliente: </strong><div t-field="doc.pedidos_cliente"></div><div t-field="doc.partner_id" /></td>-->
<!--                    </tr>-->
<!--                    <br/>-->

<!--                    <div class="row mt32 mb32" id="informations">-->



<!--                        <div t-if="doc.date_order and doc.state not in ['draft','sent']" class="col-auto col-3 mw-100 mb-2">-->
<!--                            <strong>Order Date: </strong>-->
<!--                            <span class="m-0" t-field="doc.date_order"/>-->
<!--                        </div>-->

<!--                        <div t-if="doc.date_order and doc.state in ['draft','sent']" class="col-auto col-3 mw-100 mb-2">-->
<!--                            <strong>Quotation Date: </strong>-->
<!--                            <span class="m-0" t-field="doc.date_order" t-options='{"widget": "date"}'/>-->
<!--                        </div>-->



<!--                        <div t-if="doc.validity_date and doc.state in ['draft', 'sent']" class="col-auto col-3 mw-100 mb-2" name="expiration_date">-->
<!--                            <strong>Expiration: </strong>-->
<!--                            <span class="m-0" t-field="doc.validity_date"/>-->
<!--                        </div>-->


<!--                        <div t-if="doc.commitment_date" class="col-auto col-3 mw-100 mb-2" name="commitment">-->
<!--                            <strong>Commitiment: </strong>-->
<!--                            <span class="m-0" t-field="doc.commitment_date" t-options='{"widget": "date"}'/>-->
<!--                        </div>-->



<!--                        <div t-if="doc.client_order_ref" class="col-auto col-3 mw-100 mb-2" name="reference">-->
<!--                            <strong>Your Reference: </strong>-->
<!--                            <span class="m-0" t-field="doc.client_order_ref"/>-->
<!--                        </div>-->



<!--                        <div t-if="doc.payment_term_id" class="col-auto col-3 mw-100 mb-2" name="payment_term_id">-->
<!--                            <strong>Payment: </strong>-->
<!--                            <span class="m-0" t-field="doc.payment_term_id"/>-->
<!--                        </div>-->


<!--                    </div>-->

<!--                </table>-->

<!--                &lt;!&ndash; Is there a discount on at least one line? &ndash;&gt;-->
<!--                <t t-set="display_discount" t-value="any(l.discount for l in doc.order_line)"/>-->

<!--                <table class="table table-sm o_main_table">-->
<!--                    &lt;!&ndash; In case we want to repeat the header, remove "display: table-row-group" &ndash;&gt;-->
<!--                    <thead style="display: table-row-group">-->
<!--                        <tr>-->
<!--                            <th name="th_description" class="text-left">Description</th>-->
<!--                            <th name="th_quantity" class="text-right">Quantity</th>-->
<!--                            <th name="th_priceunit" class="text-right">Unit Price</th>-->
<!--                            <th name="th_discount" t-if="display_discount" class="text-right" groups="product.group_discount_per_so_line">-->
<!--                                <span>Disc.%</span>-->
<!--                            </th>-->
<!--                            <th name="th_taxes" class="text-right">Taxes</th>-->
<!--                            <th name="th_subtotal" class="text-right">-->
<!--                                <span groups="account.group_show_line_subtotals_tax_excluded">Amount</span>-->
<!--                                <span groups="account.group_show_line_subtotals_tax_included">Total Price</span>-->
<!--                            </th>-->
<!--                        </tr>-->
<!--                    </thead>-->
<!--                    <tbody class="sale_tbody">-->

<!--                        <t t-set="current_subtotal" t-value="0"/>-->

<!--                        <t t-foreach="doc.order_line" t-as="line">-->

<!--                            <t t-set="current_subtotal" t-value="current_subtotal + line.price_subtotal" groups="account.group_show_line_subtotals_tax_excluded"/>-->
<!--                            <t t-set="current_subtotal" t-value="current_subtotal + line.price_total" groups="account.group_show_line_subtotals_tax_included"/>-->

<!--                            <tr t-att-class="'bg-200 font-weight-bold o_line_section' if line.display_type == 'line_section' else 'font-italic o_line_note' if line.display_type == 'line_note' else ''">-->
<!--                                <t t-if="not line.display_type">-->
<!--                                    <td name="td_name"><span t-field="line.name"/></td>-->
<!--                                    <td name="td_quantity" class="text-right">-->
<!--                                        <span t-field="line.product_uom_qty"/>-->
<!--                                        <span t-field="line.product_uom"/>-->
<!--                                    </td>-->
<!--                                    <td name="td_priceunit" class="text-right">-->
<!--                                        <span t-field="line.price_unit" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: line.currency_id}"/>-->
<!--                                    </td>-->
<!--                                    <td t-if="display_discount" class="text-right" groups="product.group_discount_per_so_line">-->
<!--                                        <span t-field="line.discount"/>-->
<!--                                    </td>-->
<!--                                    <td name="td_taxes" class="text-right">-->
<!--                                        <span t-esc="', '.join(map(lambda x: (x.name), line.tax_id))"/> &lt;!&ndash; <span t-esc="', '.join(map(lambda x: (x.description or x.name), line.tax_id))"/> &ndash;&gt;-->
<!--                                    </td>-->
<!--                                    <td name="td_subtotal" class="text-right o_price_total">-->
<!--                                        <span t-field="line.price_subtotal" groups="account.group_show_line_subtotals_tax_excluded"/>-->
<!--                                        <span t-field="line.price_total" groups="account.group_show_line_subtotals_tax_included"/>-->
<!--                                    </td>-->
<!--                                </t>-->
<!--                                <t t-if="line.display_type == 'line_section'">-->
<!--                                    <td name="td_section_line" colspan="99">-->
<!--                                        <span t-field="line.name"/>-->
<!--                                    </td>-->
<!--                                    <t t-set="current_section" t-value="line"/>-->
<!--                                    &lt;!&ndash;<t t-set="current_subtotal" t-value="0"/>&ndash;&gt;-->
<!--                                </t>-->
<!--                                <t t-if="line.display_type == 'line_note'">-->
<!--                                    <td name="td_note_line" colspan="99">-->
<!--                                        <span t-field="line.name"/>-->
<!--                                    </td>-->
<!--                                </t>-->
<!--                            </tr>-->

<!--                            &lt;!&ndash;<t t-if="current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')">-->
<!--                                <tr class="is-subtotal text-right">-->
<!--                                    <td name="td_section_subtotal" colspan="99">-->
<!--                                        <strong class="mr16">Subtotal</strong>-->
<!--                                        <span-->
<!--                                            t-esc="current_subtotal"-->
<!--                                            t-options='{"widget": "monetary", "display_currency": doc.pricelist_id.currency_id}'-->
<!--                                        />-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                            </t>&ndash;&gt;-->
<!--                        </t>-->
<!--                    </tbody>-->
<!--                </table>-->

<!--                <div class="clearfix" name="so_total_summary">-->
<!--                    <div id="total" class="row" name="total">-->
<!--                        <div t-attf-class="#{'col-4' if report_type != 'html' else 'col-sm-7 col-md-5'} ml-auto">-->
<!--                            <table class="table table-sm">-->
<!--                                <tr class="border-black o_subtotal" style="">-->
<!--                                    <td name="td_amount_untaxed_label"><strong>Subtotal</strong></td>-->
<!--                                    <td name="td_amount_untaxed" class="text-right">-->
<!--                                        <span t-field="doc.amount_untaxed"/>-->
<!--                                    </td>-->

<!--                                </tr>-->
<!--                                <tr style="">-->
<!--                                    <td name="frete_label">Frete</td>-->
<!--                                    <td name="frete" class="text-right o_price_total">-->
<!--                                        <span t-field="doc.l10n_br_delivery_amount"/>-->
<!--                                    </td>-->
<!--                                </tr>-->

<!--                                <tr style="">-->
<!--                                    <td name="amount_tax">Impostos</td>-->
<!--                                    <td name="taxes" class="text-right o_price_total">-->
<!--                                        <span t-field="doc.amount_tax"/>-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                                &lt;!&ndash;<t t-foreach="doc.amount_by_group" t-as="amount_by_group">-->
<!--                                    <tr style="">-->
<!--                                        <t t-if="amount_by_group[5] == 1 and doc.amount_untaxed == amount_by_group[2]">-->
<!--                                            <td name="td_amount_by_group_label_3">-->
<!--                                                <span t-esc="amount_by_group[0]"/>-->
<!--                                                <span>&amp;nbsp;<span>on</span>&amp;nbsp;<t t-esc="amount_by_group[2]" t-options='{"widget": "monetary", "display_currency": doc.pricelist_id.currency_id}'/></span>-->
<!--                                            </td>-->


<!--                                            <td name="td_amount_by_group_3" class="text-right o_price_total">-->
<!--                                                <span t-esc="amount_by_group[1]"-->
<!--                                                    t-options='{"widget": "monetary", "display_currency": doc.pricelist_id.currency_id}'/>-->
<!--                                            </td>-->
<!--                                        </t>-->
<!--                                        <t t-else ="">-->
<!--                                            <td name="td_amount_by_group_label">-->
<!--                                                <span t-esc="amount_by_group[0]"/>-->
<!--                                            </td>-->
<!--                                            <td name="td_amount_by_group" class="text-right o_price_total">-->
<!--                                                <span t-esc="amount_by_group[1]"-->
<!--                                                    t-options='{"widget": "monetary", "display_currency": doc.pricelist_id.currency_id}'/>-->
<!--                                            </td>-->
<!--                                        </t>-->
<!--                                    </tr>-->

<!--                                </t> &ndash;&gt;-->


<!--                                <tr class="border-black o_total">-->
<!--                                    <td name="td_amount_total_label"><strong>Total</strong></td>-->
<!--                                    <td name="td_amount_total" class="text-right">-->
<!--                                        <span t-field="doc.amount_total"/>-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                            </table>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <br/>-->
<!--                <div t-if="doc.signature" class="mt32 ml64 mr4" name="signature">-->
<!--                    <div class="offset-8">-->
<!--                        <strong>Signature</strong>-->
<!--                    </div>-->
<!--                    <div class="offset-8">-->
<!--                        <img t-att-src="image_data_uri(doc.signature)" style="max-height: 4cm; max-width: 8cm;"/>-->
<!--                    </div>-->
<!--                    <div class="offset-8 text-center">-->
<!--                        <p t-field="doc.signed_by"/>-->
<!--                    </div>-->

<!--                </div>-->


<!--                <div class="oe_structure"/>-->

<!--                <p t-field="doc.note" />-->
<!--                &lt;!&ndash;<p t-if="doc.payment_term_id.note">-->
<!--                    <span t-field="doc.payment_term_id.note"/>-->
<!--                </p>&ndash;&gt;-->
<!--                <p id="fiscal_position_remark" t-if="doc.fiscal_position_id and doc.fiscal_position_id.sudo().note">-->
<!--                    <strong>Fiscal Position Remark:</strong>-->
<!--                    <span t-field="doc.fiscal_position_id.sudo().note"/>-->
<!--                </p>-->
<!--                <br/>-->
<!--                <div class="last-page">-->
<!--                    <div class="mt32 m164 mr4" name="contato">-->

<!--                        <div t-if="doc.user_id.name" class="col-auto col-3 mw-100 mb-2">-->
<!--                            <span>Atenciosamente,</span><br/><br/>-->
<!--                            <strong><i><span t-field="doc.user_id"/></i></strong>-->
<!--                            <br/>-->
<!--                            <strong>E-mail: </strong>-->
<!--                            <span t-field="doc.user_id.email" t-options='{"widget": "email"}'></span>-->
<!--                            <br/>-->
<!--                            <strong>Telefone: </strong>-->
<!--                            <span class="m-0" t-field="doc.user_id.mobile"></span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </t>-->

<!--</template>-->





</odoo>
